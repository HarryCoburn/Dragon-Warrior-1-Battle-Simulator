!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=38)}([,function(e,t){e.exports=function(e){return e&&"Widget"===e.type}},function(e,t){e.exports="2"},function(e,t,n){var r=n(2);e.exports=function(e){return e&&"VirtualNode"===e.type&&e.version===r}},function(e,t,n){var r=n(20),a=n(23),o=n(29),i=n(9),u=n(17),l=n(18);e.exports={diff:r,patch:a,h:o,create:i,VNode:u,VText:l}},function(e,t,n){var r=n(2);e.exports=function(e){return e&&"VirtualText"===e.type&&e.version===r}},function(e,t){e.exports=function(e){return e&&"Thunk"===e.type}},function(e,t){e.exports=function(e){return e&&("function"==typeof e.hook&&!e.hasOwnProperty("hook")||"function"==typeof e.unhook&&!e.hasOwnProperty("unhook"))}},function(e,t){var n=Array.isArray,r=Object.prototype.toString;e.exports=n||function(e){return"[object Array]"===r.call(e)}},function(e,t,n){var r=n(15);e.exports=r},function(e,t,n){var r=n(2);function a(e,t,n){this.type=Number(e),this.vNode=t,this.patch=n}a.NONE=0,a.VTEXT=1,a.VNODE=2,a.WIDGET=3,a.PROPS=4,a.ORDER=5,a.INSERT=6,a.REMOVE=7,a.THUNK=8,e.exports=a,a.prototype.version=r,a.prototype.type="VirtualPatch"},function(e,t,n){var r=n(3),a=n(5),o=n(1),i=n(6);function u(e,t){var n=e.vnode;if(n||(n=e.vnode=e.render(t)),!(r(n)||a(n)||o(n)))throw new Error("thunk did not return a valid node");return n}e.exports=function(e,t){var n=e,r=t;i(t)&&(r=u(t,e));i(e)&&(n=u(e,null));return{a:n,b:r}}},function(e,t,n){"use strict";e.exports=function(e){return"object"==typeof e&&null!==e}},function(e,t,n){(function(t){var r,a=void 0!==t?t:"undefined"!=typeof window?window:{},o=n(25);"undefined"!=typeof document?r=document:(r=a["__GLOBAL_DOCUMENT_CACHE@4"])||(r=a["__GLOBAL_DOCUMENT_CACHE@4"]=o),e.exports=r}).call(this,n(14))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(13),a=n(16),o=n(3),i=n(5),u=n(1),l=n(11);e.exports=function e(t,n){var c=n&&n.document||r;var s=n?n.warn:null;t=l(t).a;if(u(t))return t.init();if(i(t))return c.createTextNode(t.text);if(!o(t))return s&&s("Item is not a valid virtual dom node",t),null;var p=null===t.namespace?c.createElement(t.tagName):c.createElementNS(t.namespace,t.tagName);var f=t.properties;a(p,f);var h=t.children;for(var d=0;d<h.length;d++){var y=e(h[d],n);y&&p.appendChild(y)}return p}},function(e,t,n){var r=n(12),a=n(7);function o(e,t,n,r){if(r){var o=r[t];if(a(o))o.unhook&&o.unhook(e,t,n);else if("attributes"===t)for(var i in o)e.removeAttribute(i);else if("style"===t)for(var u in o)e.style[u]="";else e[t]="string"==typeof o?"":null}}function i(e,t,n,a,o){var i=n?n[a]:void 0;if("attributes"!==a)if(i&&r(i)&&u(i)!==u(o))e[a]=o;else{r(e[a])||(e[a]={});var l="style"===a?"":void 0;for(var c in o){var s=o[c];e[a][c]=void 0===s?l:s}}else for(var p in o){var f=o[p];void 0===f?e.removeAttribute(p):e.setAttribute(p,f)}}function u(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}e.exports=function(e,t,n){for(var u in t){var l=t[u];void 0===l?o(e,u,l,n):a(l)?(o(e,u,l,n),l.hook&&l.hook(e,u,n?n[u]:void 0)):r(l)?i(e,t,n,u,l):e[u]=l}}},function(e,t,n){var r=n(2),a=n(3),o=n(1),i=n(6),u=n(7);e.exports=s;var l={},c=[];function s(e,t,n,r,s){this.tagName=e,this.properties=t||l,this.children=n||c,this.key=null!=r?String(r):void 0,this.namespace="string"==typeof s?s:null;var p,f=n&&n.length||0,h=0,d=!1,y=!1,g=!1;for(var m in t)if(t.hasOwnProperty(m)){var v=t[m];u(v)&&v.unhook&&(p||(p={}),p[m]=v)}for(var b=0;b<f;b++){var S=n[b];a(S)?(h+=S.count||0,!d&&S.hasWidgets&&(d=!0),!y&&S.hasThunks&&(y=!0),g||!S.hooks&&!S.descendantHooks||(g=!0)):!d&&o(S)?"function"==typeof S.destroy&&(d=!0):!y&&i(S)&&(y=!0)}this.count=f+h,this.hasWidgets=d,this.hasThunks=y,this.hooks=p,this.descendantHooks=g}s.prototype.version=r,s.prototype.type="VirtualNode"},function(e,t,n){var r=n(2);function a(e){this.text=String(e)}e.exports=a,a.prototype.version=r,a.prototype.type="VirtualText"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return e[0]===t},a=function(e){return function(e){return"string"==typeof e&&e.length>0}(e)&&(r(e,".")||r(e,"#"))},o=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"];t.default=function(e){var t=function(e){return function(t){return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return a(n)?e.apply(void 0,[t+n].concat(o)):void 0===n?e(t):e.apply(void 0,[t,n].concat(o))}}}(e),n={TAG_NAMES:o,isSelector:a,createTag:t};return o.forEach(function(e){n[e]=t(e)}),n},e.exports=t.default},function(e,t,n){var r=n(21);e.exports=r},function(e,t,n){var r=n(8),a=n(10),o=n(3),i=n(5),u=n(1),l=n(6),c=n(11),s=n(22);function p(e,t){var n={a:e};return f(e,t,n,0),n}function f(e,t,n,r){if(e!==t){var c=n[r],p=!1;if(l(e)||l(t))d(e,t,n,r);else if(null==t)u(e)||(h(e,n,r),c=n[r]),c=m(c,new a(a.REMOVE,e,t));else if(o(t))if(o(e))if(e.tagName===t.tagName&&e.namespace===t.namespace&&e.key===t.key){var v=s(e.properties,t.properties);v&&(c=m(c,new a(a.PROPS,e,v))),c=function(e,t,n,r,i){for(var u=e.children,l=function(e,t){var n=g(t),r=n.keys,a=n.free;if(a.length===t.length)return{children:t,moves:null};var o=g(e),i=o.keys;if(o.free.length===e.length)return{children:t,moves:null};for(var u=[],l=0,c=a.length,s=0,p=0;p<e.length;p++){var f,h=e[p];h.key?r.hasOwnProperty(h.key)?(f=r[h.key],u.push(t[f])):(f=p-s++,u.push(null)):l<c?(f=a[l++],u.push(t[f])):(f=p-s++,u.push(null))}for(var d=l>=a.length?t.length:a[l],m=0;m<t.length;m++){var v=t[m];v.key?i.hasOwnProperty(v.key)||u.push(v):m>=d&&u.push(v)}for(var b,S=u.slice(),w=0,E=[],T=[],R=0;R<t.length;){var A=t[R];for(b=S[w];null===b&&S.length;)E.push(y(S,w,null)),b=S[w];b&&b.key===A.key?(w++,R++):A.key?(b&&b.key&&r[b.key]!==R+1?(E.push(y(S,w,b.key)),(b=S[w])&&b.key===A.key?w++:T.push({key:A.key,to:R})):T.push({key:A.key,to:R}),R++):b&&b.key&&E.push(y(S,w,b.key))}for(;w<S.length;)b=S[w],E.push(y(S,w,b&&b.key));if(E.length===s&&!T.length)return{children:u,moves:null};return{children:u,moves:{removes:E,inserts:T}}}(u,t.children),c=l.children,s=u.length,p=c.length,h=s>p?s:p,d=0;d<h;d++){var v=u[d],b=c[d];i+=1,v?f(v,b,n,i):b&&(r=m(r,new a(a.INSERT,null,b))),o(v)&&v.count&&(i+=v.count)}l.moves&&(r=m(r,new a(a.ORDER,e,l.moves)));return r}(e,t,n,c,r)}else c=m(c,new a(a.VNODE,e,t)),p=!0;else c=m(c,new a(a.VNODE,e,t)),p=!0;else i(t)?i(e)?e.text!==t.text&&(c=m(c,new a(a.VTEXT,e,t))):(c=m(c,new a(a.VTEXT,e,t)),p=!0):u(t)&&(u(e)||(p=!0),c=m(c,new a(a.WIDGET,e,t)));c&&(n[r]=c),p&&h(e,n,r)}}function h(e,t,n){!function e(t,n,r){if(o(t)){if(t.hooks&&(n[r]=m(n[r],new a(a.PROPS,t,function(e){var t={};for(var n in e)t[n]=void 0;return t}(t.hooks)))),t.descendantHooks||t.hasThunks)for(var i=t.children,u=i.length,c=0;c<u;c++){var s=i[c];e(s,n,r+=1),o(s)&&s.count&&(r+=s.count)}}else l(t)&&d(t,null,n,r)}(e,t,n),function e(t,n,r){if(u(t))"function"==typeof t.destroy&&(n[r]=m(n[r],new a(a.REMOVE,t,null)));else if(o(t)&&(t.hasWidgets||t.hasThunks))for(var i=t.children,c=i.length,s=0;s<c;s++){var p=i[s];e(p,n,r+=1),o(p)&&p.count&&(r+=p.count)}else l(t)&&d(t,null,n,r)}(e,t,n)}function d(e,t,n,r){var o=c(e,t),i=p(o.a,o.b);(function(e){for(var t in e)if("a"!==t)return!0;return!1})(i)&&(n[r]=new a(a.THUNK,null,i))}function y(e,t,n){return e.splice(t,1),{from:t,key:n}}function g(e){for(var t={},n=[],r=e.length,a=0;a<r;a++){var o=e[a];o.key?t[o.key]=a:n.push(a)}return{keys:t,free:n}}function m(e,t){return e?(r(e)?e.push(t):e=[e,t],e):t}e.exports=p},function(e,t,n){var r=n(12),a=n(7);function o(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}e.exports=function e(t,n){var i;for(var u in t){u in n||((i=i||{})[u]=void 0);var l=t[u],c=n[u];if(l!==c)if(r(l)&&r(c))if(o(c)!==o(l))(i=i||{})[u]=c;else if(a(c))(i=i||{})[u]=c;else{var s=e(l,c);s&&((i=i||{})[u]=s)}else(i=i||{})[u]=c}for(var p in n)p in t||((i=i||{})[p]=n[p]);return i}},function(e,t,n){var r=n(24);e.exports=r},function(e,t,n){var r=n(13),a=n(8),o=n(15),i=n(26),u=n(27);function l(e,t,n){var a=function(e){var t=[];for(var n in e)"a"!==n&&t.push(Number(n));return t}(t);if(0===a.length)return e;var o=i(e,t.a,a),u=e.ownerDocument;n.document||u===r||(n.document=u);for(var l=0;l<a.length;l++){var s=a[l];e=c(e,o[s],t[s],n)}return e}function c(e,t,n,r){if(!t)return e;var o;if(a(n))for(var i=0;i<n.length;i++)o=u(n[i],t,r),t===e&&(e=o);else o=u(n,t,r),t===e&&(e=o);return e}e.exports=function e(t,n,r){r=r||{};r.patch=r.patch&&r.patch!==e?r.patch:l;r.render=r.render||o;return r.patch(t,n,r)}},function(e,t){},function(e,t){var n={};function r(e,t,n){if(0===e.length)return!1;for(var r,a,o=0,i=e.length-1;o<=i;){if(a=e[r=(i+o)/2>>0],o===i)return a>=t&&a<=n;if(a<t)o=r+1;else{if(!(a>n))return!0;i=r-1}}return!1}function a(e,t){return e>t?1:-1}e.exports=function(e,t,o,i){return o&&0!==o.length?(o.sort(a),function e(t,a,o,i,u){i=i||{};if(t){r(o,u,u)&&(i[u]=t);var l=a.children;if(l)for(var c=t.childNodes,s=0;s<a.children.length;s++){u+=1;var p=l[s]||n,f=u+(p.count||0);r(o,u,f)&&e(c[s],p,o,i,u),u=f}}return i}(e,t,o,i,0)):{}}},function(e,t,n){var r=n(16),a=n(1),o=n(10),i=n(28);function u(e,t){"function"==typeof t.destroy&&a(t)&&t.destroy(e)}e.exports=function(e,t,n){var a=e.type,l=e.vNode,c=e.patch;switch(a){case o.REMOVE:return function(e,t){var n=e.parentNode;n&&n.removeChild(e);return u(e,t),null}(t,l);case o.INSERT:return function(e,t,n){var r=n.render(t,n);e&&e.appendChild(r);return e}(t,c,n);case o.VTEXT:return function(e,t,n,r){var a;if(3===e.nodeType)e.replaceData(0,e.length,n.text),a=e;else{var o=e.parentNode;a=r.render(n,r),o&&a!==e&&o.replaceChild(a,e)}return a}(t,0,c,n);case o.WIDGET:return function(e,t,n,r){var a,o=i(t,n);a=o?n.update(t,e)||e:r.render(n,r);var l=e.parentNode;l&&a!==e&&l.replaceChild(a,e);o||u(e,t);return a}(t,l,c,n);case o.VNODE:return function(e,t,n,r){var a=e.parentNode,o=r.render(n,r);a&&o!==e&&a.replaceChild(o,e);return o}(t,0,c,n);case o.ORDER:return function(e,t){for(var n,r,a,o=e.childNodes,i={},u=0;u<t.removes.length;u++)r=t.removes[u],n=o[r.from],r.key&&(i[r.key]=n),e.removeChild(n);for(var l=o.length,c=0;c<t.inserts.length;c++)a=t.inserts[c],n=i[a.key],e.insertBefore(n,a.to>=l++?null:o[a.to])}(t,c),t;case o.PROPS:return r(t,c,l.properties),t;case o.THUNK:return function(e,t){e&&t&&e!==t&&e.parentNode&&e.parentNode.replaceChild(t,e);return t}(t,n.patch(t,c,n));default:return t}}},function(e,t,n){var r=n(1);e.exports=function(e,t){if(r(e)&&r(t))return"name"in e&&"name"in t?e.id===t.id:e.init===t.init;return!1}},function(e,t,n){var r=n(30);e.exports=r},function(e,t,n){"use strict";var r=n(8),a=n(17),o=n(18),i=n(3),u=n(5),l=n(1),c=n(7),s=n(6),p=n(31),f=n(33),h=n(34);function d(e){return i(e)||u(e)||l(e)||s(e)}function y(e){try{return JSON.stringify(e,null,"    ")}catch(t){return String(e)}}e.exports=function(e,t,n){var i,u,l,s,g=[];!n&&(m=t,"string"==typeof m||r(m)||d(m))&&(n=t,u={});var m;i=p(e,u=u||t||{}),u.hasOwnProperty("key")&&(l=u.key,u.key=void 0);u.hasOwnProperty("namespace")&&(s=u.namespace,u.namespace=void 0);"INPUT"!==i||s||!u.hasOwnProperty("value")||void 0===u.value||c(u.value)||(u.value=f(u.value));(function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if(c(n))continue;"ev-"===t.substr(0,3)&&(e[t]=h(n))}})(u),null!=n&&function e(t,n,a,i){if("string"==typeof t)n.push(new o(t));else if("number"==typeof t)n.push(new o(String(t)));else if(d(t))n.push(t);else{if(!r(t)){if(null==t)return;throw l={foreignObject:t,parentVnode:{tagName:a,properties:i}},(c=new Error).type="virtual-hyperscript.unexpected.virtual-element",c.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+y(l.foreignObject)+".\nThe parent vnode is:\n"+y(l.parentVnode),c.foreignObject=l.foreignObject,c.parentVnode=l.parentVnode,c}for(var u=0;u<t.length;u++)e(t[u],n,a,i)}var l,c}(n,g,i,u);return new a(i,u,g,l,s)}},function(e,t,n){"use strict";var r=n(32),a=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,o=/^\.|#/;e.exports=function(e,t){if(!e)return"DIV";var n,i,u,l,c=!t.hasOwnProperty("id"),s=r(e,a),p=null;o.test(s[1])&&(p="DIV");for(l=0;l<s.length;l++)(i=s[l])&&(u=i.charAt(0),p?"."===u?(n=n||[]).push(i.substring(1,i.length)):"#"===u&&c&&(t.id=i.substring(1,i.length)):p=i);n&&(t.className&&n.push(t.className),t.className=n.join(" "));return t.namespace?p:p.toUpperCase()}},function(e,t){var n,r,a;
/*!
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 * ECMAScript compliant, uniform cross-browser split method
 */
e.exports=(r=String.prototype.split,a=/()??/.exec("")[1]===n,function(e,t,o){if("[object RegExp]"!==Object.prototype.toString.call(t))return r.call(e,t,o);var i,u,l,c,s=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),f=0;for(t=new RegExp(t.source,p+"g"),e+="",a||(i=new RegExp("^"+t.source+"$(?!\\s)",p)),o=o===n?-1>>>0:o>>>0;(u=t.exec(e))&&!((l=u.index+u[0].length)>f&&(s.push(e.slice(f,u.index)),!a&&u.length>1&&u[0].replace(i,function(){for(var e=1;e<arguments.length-2;e++)arguments[e]===n&&(u[e]=n)}),u.length>1&&u.index<e.length&&Array.prototype.push.apply(s,u.slice(1)),c=u[0].length,f=l,s.length>=o));)t.lastIndex===u.index&&t.lastIndex++;return f===e.length?!c&&t.test("")||s.push(""):s.push(e.slice(f)),s.length>o?s.slice(0,o):s})},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.value=e}e.exports=r,r.prototype.hook=function(e,t){e[t]!==this.value&&(e[t]=this.value)}},function(e,t,n){"use strict";var r=n(35);function a(e){if(!(this instanceof a))return new a(e);this.value=e}e.exports=a,a.prototype.hook=function(e,t){r(e)[t.substr(3)]=this.value},a.prototype.unhook=function(e,t){r(e)[t.substr(3)]=void 0}},function(e,t,n){"use strict";n(36)("ev-store","7");var r="__EV_STORE_KEY@7";e.exports=function(e){var t=e[r];t||(t=e[r]={});return t}},function(e,t,n){"use strict";var r=n(37);e.exports=function(e,t,n){var a="__INDIVIDUAL_ONE_VERSION_"+e,o=r(a+"_ENFORCE_SINGLETON",t);if(o!==t)throw new Error("Can only have one copy of "+e+".\nYou already have version "+o+" installed.\nThis means you cannot install version "+t);return r(a,n)}},function(e,t,n){"use strict";(function(t){var n="undefined"!=typeof window?window:void 0!==t?t:{};e.exports=function(e,t){if(e in n)return n[e];return n[e]=t,t}}).call(this,n(14))},function(e,t,n){"use strict";n.r(t);var r=function(){return!1},a={battleText:[],enemy:"",cleanBattleText:r,inBattle:r,initiative:r,enemySleep:0,enemyStop:r,playerSleep:r,playerStop:r,sleepCount:6,critHit:r,player:{name:"Rollo",nameSum:0,progression:0,level:1,strength:4,agility:4,hp:15,maxhp:15,mp:0,weapon:{name:"Unarmed",mod:0},armor:{name:"Naked",mod:0},shield:{name:"Naked",mod:0},herbCount:0}};function o(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function i(e){return function t(n){return 0===arguments.length||o(n)?t:e.apply(this,arguments)}}function u(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return o(n)?t:i(function(t){return e(n,t)});default:return o(n)&&o(r)?t:o(n)?i(function(t){return e(t,r)}):o(r)?i(function(t){return e(n,t)}):e(n,r)}}}function l(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function c(e,t,n){for(var r=0,a=n.length;r<a;){if(e(t,n[r]))return!0;r+=1}return!1}function s(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var p="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},f=Object.prototype.toString,h=function(){return"[object Arguments]"===f.call(arguments)?function(e){return"[object Arguments]"===f.call(e)}:function(e){return s("callee",e)}}(),d=!{toString:null}.propertyIsEnumerable("toString"),y=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],g=function(){return arguments.propertyIsEnumerable("length")}(),m=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},v="function"!=typeof Object.keys||g?i(function(e){if(Object(e)!==e)return[];var t,n,r=[],a=g&&h(e);for(t in e)!s(t,e)||a&&"length"===t||(r[r.length]=t);if(d)for(n=y.length-1;n>=0;)s(t=y[n],e)&&!m(r,t)&&(r[r.length]=t),n-=1;return r}):i(function(e){return Object(e)!==e?[]:Object.keys(e)}),b=i(function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});function S(e,t,n,r){var a=l(e);function o(e,t){return w(e,t,n.slice(),r.slice())}return!c(function(e,t){return!c(o,t,e)},l(t),a)}function w(e,t,n,r){if(p(e,t))return!0;var a,o,i=b(e);if(i!==b(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(a=e.constructor,null==(o=String(a).match(/^function (\w*)/))?"":o[1]))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!p(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!p(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var u=n.length-1;u>=0;){if(n[u]===e)return r[u]===t;u-=1}switch(i){case"Map":return e.size===t.size&&S(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&S(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var l=v(e);if(l.length!==v(t).length)return!1;var c=n.concat([e]),f=r.concat([t]);for(u=l.length-1;u>=0;){var h=l[u];if(!s(h,t)||!w(t[h],e[h],c,f))return!1;u-=1}return!0}var E=u(function(e,t){return w(e,t,[],[])}),T=function(){return!0};function R(e){return function t(n,r,a){switch(arguments.length){case 0:return t;case 1:return o(n)?t:u(function(t,r){return e(n,t,r)});case 2:return o(n)&&o(r)?t:o(n)?u(function(t,n){return e(t,r,n)}):o(r)?u(function(t,r){return e(n,t,r)}):i(function(t){return e(n,r,t)});default:return o(n)&&o(r)&&o(a)?t:o(n)&&o(r)?u(function(t,n){return e(t,n,a)}):o(n)&&o(a)?u(function(t,n){return e(t,r,n)}):o(r)&&o(a)?u(function(t,r){return e(n,t,r)}):o(n)?i(function(t){return e(t,r,a)}):o(r)?i(function(t){return e(n,t,a)}):o(a)?i(function(t){return e(n,r,t)}):e(n,r,a)}}}var A=R(function(e,t,n){var r={};for(var a in n)r[a]=n[a];return r[e]=t,r}),x=R(function(e,t,n){return E(t,n[e])});function O(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,a){return t.apply(this,arguments)};case 5:return function(e,n,r,a,o){return t.apply(this,arguments)};case 6:return function(e,n,r,a,o,i){return t.apply(this,arguments)};case 7:return function(e,n,r,a,o,i,u){return t.apply(this,arguments)};case 8:return function(e,n,r,a,o,i,u,l){return t.apply(this,arguments)};case 9:return function(e,n,r,a,o,i,u,l,c){return t.apply(this,arguments)};case 10:return function(e,n,r,a,o,i,u,l,c,s){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function k(e,t){return function(){return t.call(this,e.apply(this,arguments))}}var N=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function P(e){return"[object String]"===Object.prototype.toString.call(e)}var _=i(function(e){return!!N(e)||!!e&&("object"==typeof e&&(!P(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))}),C=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();var H=u(function(e,t){return O(e.length,function(){return e.apply(t,arguments)})});function j(e,t,n){for(var r=n.next();!r.done;){if((t=e["@@transducer/step"](t,r.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)}function M(e,t,n,r){return e["@@transducer/result"](n[r](H(e["@@transducer/step"],e),t))}var L="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function D(e,t,n){if("function"==typeof e&&(e=function(e){return new C(e)}(e)),_(n))return function(e,t,n){for(var r=0,a=n.length;r<a;){if((t=e["@@transducer/step"](t,n[r]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"==typeof n["fantasy-land/reduce"])return M(e,t,n,"fantasy-land/reduce");if(null!=n[L])return j(e,t,n[L]());if("function"==typeof n.next)return j(e,t,n);if("function"==typeof n.reduce)return M(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var B=R(D);function G(e,t){return function(){var n=arguments.length;if(0===n)return t();var r=arguments[n-1];return N(r)||"function"!=typeof r[e]?t.apply(this,arguments):r[e].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var U=i(G("tail",R(G("slice",function(e,t,n){return Array.prototype.slice.call(n,e,t)}))(1,1/0)));function I(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return O(arguments[0].length,B(k,arguments[0],U(arguments)))}var W=R(function(e,t,n){return e(n)?t(n):n}),V=u(function(e,t){return null!=t&&t.constructor===e||t instanceof e}),F=R(function(e,t,n){return V(e,n[t])}),Y=u(function e(t,n){var r,a,o,i=n instanceof Array?[]:{};for(a in n)o=typeof(r=t[a]),i[a]="function"===o?r(n[a]):r&&"object"===o?e(r,n[a]):n[a];return i});function K(e,t){var n;t=t||[];var r=(e=e||[]).length,a=t.length,o=[];for(n=0;n<r;)o[o.length]=e[n],n+=1;for(n=0;n<a;)o[o.length]=t[n],n+=1;return o}var q=u(function(e,t){return K(t,[e])}),z=u(function(e,t){return e>t});var X=u(function(e,t){return 1===e?i(t):O(e,function e(t,n,r){return function(){for(var a=[],i=0,u=t,l=0;l<n.length||i<arguments.length;){var c;l<n.length&&(!o(n[l])||i>=arguments.length)?c=n[l]:(c=arguments[i],i+=1),a[l]=c,o(c)||(u-=1),l+=1}return u<=0?r.apply(this,a):O(u,e(t,a,r))}}(e,[],t))}),J=R(function(e,t,n){return X(Math.max(e.length,t.length,n.length),function(){return e.apply(this,arguments)?t.apply(this,arguments):n.apply(this,arguments)})});function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Z=J(E(Math.floor(2*Math.random())),r,T),$=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ee=function(e){var t=Q(e,2),n=t[0],r=t[1];return Math.floor(Math.random()*(r-n+1)+n)},te=function(e,t){var n=e.maxhp-e.hp,r=ee(t);return n<r?n:r},ne=A("battleText",[]),re=A("cleanBattleText",r),ae=x("cleanBattleText",T),oe=I(ne,re),ie=W(ae,oe),ue=F(Object,"enemy"),le=Y({battleText:q("Please choose an enemy!"),cleanBattleText:T,initiative:r}),ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e*ee([0,255])*t};function se(e){var t=e.player,n=e.enemy;return z(ce(t.agility),ce(n.agility,.25))}var pe=W(V(Array),ee);var fe=J(ue,function(e){var t=e.enemy,n=e.player,r=t.hp,a=pe(r);return Y({player:A("hp",n.maxhp),enemy:I(A("hp",a),A("maxhp",a)),inBattle:T,battleText:q("You are fighting the ".concat(e.enemy.name)),initiative:se(e)},e)},le),he=I(ie,fe);var de=u(function(e,t){return e&&t});function ye(e,t,n){return function(){if(0===arguments.length)return n();var r=Array.prototype.slice.call(arguments,0),a=r.pop();if(!N(a)){for(var o=0;o<e.length;){if("function"==typeof a[e[o]])return a[e[o]].apply(a,r);o+=1}if(function(e){return null!=e&&"function"==typeof e["@@transducer/step"]}(a))return t.apply(null,r)(a)}return n.apply(this,arguments)}}var ge=function(){return this.xf["@@transducer/init"]()},me=function(e){return this.xf["@@transducer/result"](e)},ve=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=ge,e.prototype["@@transducer/result"]=me,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),be=u(ye(["fantasy-land/map","map"],u(function(e,t){return new ve(e,t)}),function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return X(t.length,function(){return e.call(this,t.apply(this,arguments))});case"[object Object]":return D(function(n,r){return n[r]=e(t[r]),n},{},v(t));default:return function(e,t){for(var n=0,r=t.length,a=Array(r);n<r;)a[n]=e(t[n]),n+=1;return a}(e,t)}})),Se=u(function(e,t){return"function"==typeof t["fantasy-land/ap"]?t["fantasy-land/ap"](e):"function"==typeof e.ap?e.ap(t):"function"==typeof e?function(n){return e(n)(t(n))}:D(function(e,n){return K(e,be(n,t))},[],e)}),we=u(function(e,t){var n=X(e,t);return X(e,function(){return D(Se,be(n,arguments[0]),Array.prototype.slice.call(arguments,1))})}),Ee=i(function(e){return we(e.length,e)}),Te=u(function(e,t){return n=e,"[object Function]"===Object.prototype.toString.call(n)?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:Ee(de)(e,t);var n}),Re=u(function(e,t){return Number(e)+Number(t)})(-1),Ae=u(function(e,t){return e||t}),xe=i(function(e){return!e}),Oe=u(function(e,t){return e<t});function ke(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Pe(e,t,n[t])})}return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e=E(ee([1,32]),1),Ce=function(e){return ee([1,64])<=e},He=function(e){return ee([1,16])<=e?T:r},je=function(e,t){return(e-t/2)/4},Me=function(e,t){return(e-t/2)/2},Le=function(e,t){return[je(e,t),Me(e,t)]},De=function(e){return e/2},Be=function(e){return e},Ge=function(e){return[De(e),Be(e)]},Ue=[.25,.375,.75,1],Ie=Y({battleText:q("You are still asleep!"),sleepCount:Re()}),We=Y({battleText:q("You wake up!"),playerSleep:r}),Ve=J(function(e){return Te(Z,function(e){return e.sleepCount>0}(e))},Ie,We);function Fe(e,t){var n=W(x("playerSleep",T),Ve)(e);if(console.log("Checking sleep"),console.log(n),E(n.playerSleep,T))return n;switch(t.type){case"CAST_HEAL":case"CAST_HEALMORE":case"CAST_HURT":case"CAST_HURTMORE":case"CAST_SLEEP":case"CAST_STOPSPELL":return function(e,t){switch(console.log(e),e.type){case"CAST_HEAL":return Ke(t,!1);case"CAST_HEALMORE":return Ke(t,!0);case"CAST_HURT":return qe(t,!1);case"CAST_HURTMORE":return qe(t,!0);case"CAST_SLEEP":return function(e){var t=e.enemy,n=e.player,r=e.playerStop,a=n.mp,o=t.sleepR,i=ke(e.battleText);if(a<2)return i.push("Player tries to cast Sleep, but doesn't have enough MP!"),Ne({},e,{battleText:i});var u=Ne({},n,{mp:a-2});if(r)return i.push("Player casts Sleep! But their magic has been sealed!"),Ne({},e,{player:u,battleText:i});if(i.push("Player casts Sleep!"),e.enemySleep)return i.push("But the ".concat(t.name," is already asleep!")),Ne({},e,{player:u,battleText:i});var l=He(o);if(E(l,T))return i.push("But the ".concat(t.name," resisted!")),Ne({},e,{player:u,battleText:i});i.push(" ".concat($(t.name)," is now asleep!"));var c=Ae(e.enemySleep,2);return Ne({},e,{player:u,battleText:i,enemySleep:c})}(t);case"CAST_STOPSPELL":return function(e){var t=e.enemy,n=e.player,r=e.enemyStop,a=e.playerStop,o=n.mp,i=t.stopR,u=ke(e.battleText);if(o<2)return u.push("Player tries to cast Stopspell, but doesn't have enough MP!"),Ne({},e,{battleText:u});var l=Ne({},n,{mp:o-2});if(a)return u.push("Player casts Stopspell! But their magic has been sealed!"),Ne({},e,{player:l,battleText:u});if(u.push("Player casts Stopspell!"),r)return u.push("But the ".concat(t.name,"'s magic is already blocked!")),Ne({},e,{player:l,battleText:u});var c=He(i);if(E(c,T))return u.push("But the ".concat(t.name," resisted!")),Ne({},e,{player:l,battleText:u});return u.push(" ".concat($(t.name),"'s magic is now blocked!")),Ne({},e,{player:l,battleText:u,enemyStop:T})}(t);default:return console.log("Spell fell through switchblock!"),t}}(t,n);case"FIGHT":return function(e){var t=e.player,n=e.enemy,a=Ce(n.dodge),o=_e,i=function(e,t,n,r){if(r)return 0;var a=e.strength+e.weapon.mod,o=t.agility;if(n){var i=ee(Ge(a));return Ye(i)}return Ye(ee(Le(a,o)))}(t,n,o,a),u=Ne({},n,{hp:n.hp-i});return function(e,t,n,a){var o=e.enemy,i=e.battleText;de(n,xe(o.voidCrit))?i.push("Player attacks with an excellent attack!!"):i.push("Player attacks!");if(a)return i.push("But the ".concat(o.name," dodged your attack!")),Ne({},e,{battleText:i});if(i.push("Player hits ".concat(o.name," for ").concat(t," points of damage.")),o.hp<=0)return i.push("You have defeated the ".concat(o.name,"!")),Ne({},e,{battleText:i,inBattle:r});return Ne({},e,{battleText:i})}(Ne({},e,{enemy:u}),i,o,a)}(n);case"USE_HERB":return function(e){var t=e.player,n=te(t,[23,30]),r=E(n,0)?q("Player eats a healing herb. But their hit points were already at maximum!",e.battleText):q("Player eats a healing herb. Player is healed ".concat(n," hit points"),e.battleText),a=Ne({},t,{hp:t.hp+n,herbCount:Re(t.herbCount)});return Ne({},e,{player:a,battleText:r})}(n);case"RUN_AWAY":return function(e){var t=e.player,n=e.enemy,a=t.agility,o=n.agility,i=ee([0,255]),u=ee([0,255]),l=Ue[n.run],c=ke(e.battleText);c.push("You try to run away...");var s=z(a*i,o*u*l);if(Ae(s,E(e.enemySleep,T)))return c.push("You succeed in fleeing!"),Ne({},e,{inBattle:r,battleText:c});return c.push("...but the enemy blocks you from running away!"),Ne({},e,{battleText:c})}(n);default:return e}}function Ye(e){if(e<1){var t=Z();return E(t,T)?0:1}return e}function Ke(e,t){var n=ke(e.battleText),r=e.player,a=e.playerStop,o=r.mp,i=r.hp,u=t?"Healmore":"Heal";if(Ae(de(Oe(o,4),xe(t))),de(Oe(o,10),t))return Ne({},e,{battleText:q("Player tries to cast ".concat(u,", but doesn't have enough MP!"),n)});var l=t?o-10:o-4;if(a){n.push("Player casts ".concat(u,"! But their magic has been sealed!"));var c=Ne({},e.player,{mp:l});return Ne({},e,{player:c,battleText:n})}var s=te(r,t?[85,100]:[10,17]),p=i+s;E(s,0)?n.push("Player casts ".concat(u,"! But their hit points were already at maximum!")):n.push("Player casts ".concat(u,"! Player is healed ").concat(s," hit points"));var f=Ne({},e.player,{hp:p,mp:l});return Ne({},e,{player:f,battleText:n})}function qe(e,t){var n=e.enemy,a=e.player,o=e.playerStop,i=n.hp,u=n.hurtR,l=a.mp,c=t?"Hurtmore":"Hurt";if(Ae(de(Oe(l,2),xe(t))),de(Oe(l,5),t))return Ne({},e,{battleText:[].concat(ke(e.battleText),["Player tries to cast ".concat(c,", but doesn't have enough MP!")])});var s=Ne({},a,{mp:t?l-5:l-2});if(o)return Ne({},e,{player:s,battleText:q("Player casts ".concat(c,"! But their magic has been sealed!"),e.battleText)});var p=ee(t?[58,65]:[5,12]),f=i-p,h=ke(e.battleText);h.push("Player casts Hurt!");var d=He(u);if(E(d,T))return h.push("But the ".concat(n.name," resisted!")),Ne({},e,{player:s,battleText:h});h.push(" ".concat($(n.name)," is hurt by ").concat(p," hit points"));var y=f<=0?r:T,g=Ne({},n,{hp:f});return f<=0&&h.push("You have defeated the ".concat($(n.name))),Ne({},e,{enemy:g,player:s,battleText:h,inBattle:y})}var ze=u(function(e,t){return t>e?t:e}),Xe=i(function(e){return O(B(ze,0,be(function(e){return e[0].length},e)),function(){for(var t=0;t<e.length;){if(e[t][0].apply(this,arguments))return e[t][1].apply(this,arguments);t+=1}})}),Je=i(function(e){return P(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()});function Qe(){if(0===arguments.length)throw new Error("compose requires at least one argument");return I.apply(this,Je(arguments))}var Ze=u(function(e,t){for(var n=t,r=0;r<e.length;){if(null==n)return;n=n[e[r]],r+=1}return n}),$e=u(function(e,t){return Ze([e],t)}),et=u(function(e,t){return e>=t});function tt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){rt(e,t,n[t])})}return e}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var at=function(e){return(e+4)/6},ot=function(e){return[0,at(e)]},it=function(e,t){return(e-t/2)/4},ut=function(e,t){return(e-t/2)/2},lt=function(e,t){return[it(e,t),ut(e,t)]},ct=function(e){return e.reduce(function(e,t){return e+t.weight},0)};function st(e){return Xe([[pt,dt],[ft,ht],[T,Et]])(e)}function pt(e){return Qe(Oe(0),$e("enemySleep"))(e)}function ft(e){return de(et(e.player.strength,2*e.enemy.strength),E(ee([1,4]),4))}function ht(e){return console.log("Running!"),nt({},e,{battleText:q("The enemy flees from your superior strength!",e.battleText),enemySleep:0,inBattle:r})}function dt(e){return Xe([[Qe(E(2),$e("enemySleep")),yt],[gt,mt],[T,vt]])(e)}function yt(e){return nt({},e,{battleText:q("The ".concat(e.enemy.name," is asleep."),e.battleText),enemySleep:1})}function gt(){return E(ee([1,3]),3)}function mt(e){return Et(nt({},e,{battleText:q("The ".concat(e.enemy.name," woke up!"),e.battleText),enemySleep:0}))}function vt(e){return nt({},e,{battleText:q("The ".concat(e.enemy.name," is still asleep..."),e.battleText)})}var bt=E,St=function(e){return E(e.playerSleep,r)?T:r},wt=function(e){return E(e.playerStop,r)?T:r};function Et(e,t){var n,a,o=e.enemy,i=Ae(t,o.pattern),u=i.find((n=ct(i),a=Math.floor(Math.random()*(n+1)),function(e){return(a-=e.weight)<=0})).id;return console.log("Chosen attack is..."),console.log(u),Xe([[bt("ATTACK"),function(){return function(e){var t=e.player,n=e.enemy,a=function(e,t){var n=t.strength,r=Math.floor((e.agility+e.armor.mod+e.shield.mod)/2);if(et(r,n))return ee(ot(n));return ee(lt(n,r))}(t,n),o=nt({},t,{hp:t.hp-a});return function(e,t){var n=e.player,a=e.enemy,o=e.battleText;if(o.push("".concat($(a.name)," attacks! ").concat($(a.name)," hits you for ").concat(t," points of damage")),n.hp<=0)return o.push("You have been defeated by the ".concat(a.name,"!")),nt({},e,{battleText:o,inBattle:r});return nt({},e,{battleText:o})}(nt({},e,{player:o}),a)}(e)}],[bt("HURT"),function(){return xt(e,!1)}],[bt("HURTMORE"),function(){return xt(e,!0)}],[bt("HEAL"),function(){return function(e,t,n){return J(Rt,function(){return Ot(t,e)},function(){return At(n,e)})(e)}(e,!1,i)}],[bt("HEALMORE"),function(){return J(Rt(e),Ot(e,!0),At(e,i))}],[bt("SLEEP"),function(){return J(St(e),function(e){var t=e.enemy,n=e.enemyStop,r=tt(e.battleText);if(r.push("The ".concat(t.name," casts Sleep!")),n)return r.push("However, ".concat($(t.name),"'s magic is blocked!")),nt({},e,{battleText:r});return r.push("You fall asleep!"),nt({},e,{battleText:r,playerSleep:T})}(e),function(e,t){var n=t.filter(function(e){return"SLEEP"!==e.id});return Et(e,n)}(e,i))}],[bt("STOPSPELL"),function(){return J(wt(e),function(e){var t=e.enemy,n=e.enemyStop,r=tt(e.battleText);if(r.push("The ".concat(t.name," casts Stopspell!")),n)return r.push("However, ".concat($(t.name),"'s magic is blocked!")),nt({},e,{battleText:r});if(Z())return r.push("Your magic has been blocked!"),nt({},e,{battleText:r,playerBlock:T});return r.push("But the spell fails!"),nt({},e,{battleText:r})}(e),function(e,t){var n=t.filter(function(e){return"STOPSPELL"!==e.id});return Et(e,n)}(e,i))}],[bt("FIRE"),function(){return kt(e,!1)}],[bt("STRONGFIRE"),function(){return kt(e,!0)}],[T,function(){return console.log("Enemy Round Went Wrong!")}]])(u)}var Tt=function(e){return e.enemy.hp/e.enemy.maxhp};function Rt(e){return Qe(z(.25),Tt)(e)}function At(e,t){return Et(t,e.filter(function(e){return"HEAL"!==e.id&&"HEALMORE"!==e.id}))}function xt(e,t){var n=t?"Hurtmore":"Hurt",a=e.enemy,o=e.player,i=e.enemyStop;console.log("Stopped is"),console.log(i);var u=o.hp,l=o.armor.magDef,c=ee(t?l?[20,30]:[30,45]:l?[2,6]:[3,10]),s=u-c,p=tt(e.battleText);if(p.push("".concat($(a.name)," casts ").concat(n,"!")),E(i,T))return p.push("However, ".concat($(a.name),"'s magic is blocked!")),nt({},e,{battleText:p});p.push(" Player is hurt by ".concat(c," hit points."));var f=s<=0?r:T,h=nt({},o,{hp:s});return s<=0&&p.push("You have been defeated by the ".concat($(a.name),".")),nt({},e,{player:h,battleText:p,inBattle:f})}function Ot(e,t){var n=t.enemy,r=t.enemyStop,a=n.hp,o=e?"Healmore":"Heal",i=n.maxhp-a,u=ee(e?[85,100]:[20,27]),l=i<u?i:u,c=tt(t.battleText);if(c.push("".concat($(n.name)," casts ").concat(o,"!")),E(r,T))return c.push("However, ".concat($(n.name),"'s magic is blocked!")),nt({},t,{battleText:c});var s=a+l;c.push("".concat($(n.name)," is healed ").concat(l," hit points"));var p=nt({},t.enemy,{hp:s});return nt({},t,{enemy:p,battleText:c})}function kt(e,t){var n=e.enemy,a=e.player,o=a.hp,i=t?"strong flames at you!":"fire",u=a.armor.fireDef,l=ee(t?u?[42,48]:[65,72]:u?[10,14]:[16,23]),c=o-l,s=tt(e.battleText);s.push("".concat($(n.name)," breathes ").concat(i,"!")),s.push(" Player is hurt by ".concat(l," hit points."));var p=c<=0?r:T,f=nt({},a,{hp:c});return c<=0&&s.push("You have been defeated by the ".concat($(n.name),".")),nt({},e,{player:f,battleText:s,inBattle:p})}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Pt(e,t,n[t])})}return e}function Pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _t={Unarmed:{name:"Unarmed",mod:0},"Bamboo Pole":{name:"Bamboo Pole",mod:2},Club:{name:"Club",mod:4},"Copper Sword":{name:"Copper Sword",mod:10},"Hand Axe":{name:"Hand Axe",mod:15},"Broad Sword":{name:"Broad Sword",mod:20},"Flame Sword":{name:"Flame Sword",mod:28},"Erdrick's Sword":{name:"Erdrick's Sword",mod:40}},Ct={Naked:{name:"Naked",mod:0},Clothes:{name:"Clothes",mod:2},"Leather Armor":{name:"Leather Armor",mod:4},"Chain Mail":{name:"Chain Mail",mod:10},"Half Plate":{name:"Half Plate",mod:16},"Full Plate":{name:"Full Plate",mod:24},"Magic Armor":{name:"Magic Armor",mod:24,magDef:T},"Erdrick's Armor":{name:"Erdrick's Armor",mod:28,magDef:T,fireDef:T}},Ht={Naked:{name:"Naked",mod:0},"Small Shield":{name:"Small Shield",mod:4},"Large Shield":{name:"Large Shield",mod:10},"Silver Shield":{name:"Silver Shield",mod:25}};function jt(e,t){var n=e.weapon;return Nt({},t.player,{weapon:_t[n]})}function Mt(e,t){var n=e.armor;return Nt({},t.player,{armor:Ct[n]})}function Lt(e,t){var n=e.shield;return Nt({},t.player,{shield:Ht[n]})}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Gt={1:[4,4,15,0],2:[5,4,22,0],3:[7,6,24,5],4:[7,8,31,16],5:[12,10,35,20],6:[16,10,38,24],7:[18,17,40,26],8:[22,20,46,29],9:[30,22,50,36],10:[35,31,54,40],11:[40,35,62,50],12:[48,40,63,58],13:[52,48,70,64],14:[60,55,78,70],15:[68,64,86,72],16:[72,70,92,95],17:[72,78,100,100],18:[85,84,115,108],19:[87,86,130,115],20:[92,88,138,128],21:[95,90,149,135],22:[97,90,158,146],23:[99,94,165,153],24:[103,98,170,161],25:[113,100,174,161],26:[117,105,180,168],27:[125,107,189,175],28:[130,115,195,180],29:[135,120,200,190],30:[140,130,210,200]},Ut=function(e,t){return e+t},It=function(e,t){return Math.floor(.9*t+Math.floor(e/4)%4)};function Wt(e,t,n){return 0===t?function(e,t){var n=Bt(t,4),r=n[0],a=n[1],o=n[2],i=n[3];return I(q(It(e,r)),q(It(e,a)),q(o),q(i))([])}(e,n):1===t?function(e,t){var n=Bt(t,4),r=n[0],a=n[1],o=n[2],i=n[3];return I(q(r),q(It(e,a)),q(o),q(It(e,i)))([])}(e,n):2===t?function(e,t){var n=Bt(t,4),r=n[0],a=n[1],o=n[2],i=n[3];return I(q(It(e,r)),q(a),q(It(e,o)),q(i))([])}(e,n):3===t?function(e,t){var n=Bt(t,4),r=n[0],a=n[1],o=n[2],i=n[3];return I(q(r),q(a),q(It(e,o)),q(It(e,i)))([])}(e,n):console.log("Invalid progression var in statsCalc")}function Vt(e){var t=e.player,n=t.nameSum,r=t.progression,a=t.level,o=Bt(Wt(n,r,Gt[a]),4),i=o[0],u=o[1],l=o[2],c=o[3];return I(A("strength",i),A("agility",u),A("hp",l),A("maxhp",l),A("mp",c))(t)}function Ft(e,t){var n=e.name,r=t.player,a=n.split("").slice(0,4).map(function(e){return z("gwM".indexOf(e),-1)?0:z("hxN".indexOf(e),-1)?1:z("iyO".indexOf(e),-1)?2:z("jzP".indexOf(e),-1)?3:z("kAQ".indexOf(e),-1)?4:z("lBR".indexOf(e),-1)?5:z("mCS".indexOf(e),-1)?6:z("nDT".indexOf(e),-1)?7:z("oEU".indexOf(e),-1)?8:z("pFV".indexOf(e),-1)?9:z("aqGW".indexOf(e),-1)?10:z("brHX".indexOf(e),-1)?11:z("csIY".indexOf(e),-1)?12:z("dtJZ".indexOf(e),-1)?13:z("euK".indexOf(e),-1)?14:z("fvL".indexOf(e),-1)?15:0}).reduce(Ut);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Dt(e,t,n[t])})}return e}({},r,{name:n,nameSum:a,progression:Math.floor(a%4)})}var Yt="ATTACK",Kt="HURT",qt="HURTMORE",zt="HEAL",Xt="HEALMORE",Jt="SLEEP",Qt="STOPSPELL",Zt="FIRE",$t={Slime:{name:"Slime",strength:5,agility:3,hp:3,sleepR:0,stopR:15,hurtR:0,dodge:1,pattern:[{id:Yt,weight:100}],run:0},"Red Slime":{name:"Red Slime",strength:7,agility:3,hp:3,sleepR:0,stopR:15,hurtR:0,dodge:1,pattern:[{id:Yt,weight:100}],run:0},Drakee:{name:"Drakee",strength:9,agility:6,hp:[5,6],sleepR:0,stopR:15,hurtR:0,dodge:1,pattern:[{id:Yt,weight:100}],run:0},Ghost:{name:"Ghost",strength:11,agility:8,hp:[6,7],sleepR:0,stopR:15,hurtR:0,dodge:4,pattern:[{id:Yt,weight:100}],run:0},Magician:{name:"Magician",strength:11,agility:12,hp:[10,13],sleepR:0,stopR:0,hurtR:0,dodge:1,pattern:[{id:Yt,weight:50},{id:Kt,weight:50}],run:0},Magidrakee:{name:"Magidrakee",strength:14,agility:14,hp:[12,15],sleepR:0,stopR:0,hurtR:0,dodge:1,pattern:[{id:Yt,weight:50},{id:Kt,weight:50}],run:0},Scorpion:{name:"Scorpion",strength:18,agility:16,hp:[16,20],sleepR:0,stopR:15,hurtR:0,dodge:1,pattern:[{id:Yt,weight:100}],run:0},Druin:{name:"Druin",strength:20,agility:18,hp:[17,22],sleepR:0,stopR:15,hurtR:0,dodge:2,pattern:[{id:Yt,weight:100}],run:0},Poltergeist:{name:"Poltergeist",strength:18,agility:20,hp:[18,23],sleepR:0,stopR:0,hurtR:0,dodge:6,pattern:[{id:Yt,weight:25},{id:Kt,weight:75}],run:0},Droll:{name:"Droll",strength:24,agility:24,hp:[19,25],sleepR:0,stopR:14,hurtR:0,dodge:2,pattern:[{id:Yt,weight:100}],run:0},Drakeema:{name:"Drakeema",strength:22,agility:26,hp:[16,20],sleepR:2,stopR:0,hurtR:0,dodge:6,pattern:[{id:zt,weight:25},{id:Kt,weight:50},{id:Yt,weight:25}],run:0},Skeleton:{name:"Skeleton",strength:28,agility:22,hp:[16,20],sleepR:0,stopR:15,hurtR:0,dodge:4,pattern:[{id:Yt,weight:100}],run:0},Warlock:{name:"Warlock",strength:28,agility:22,hp:[23,30],sleepR:3,stopR:1,hurtR:0,dodge:2,pattern:[{id:Jt,weight:25},{id:Kt,weight:50},{id:Yt,weight:50}],run:0},"Metal Scorpion":{name:"Metal Scorpion",strength:36,agility:42,hp:[17,22],sleepR:0,stopR:15,hurtR:0,dodge:2,pattern:[{id:Yt,weight:100}],run:0},Wolf:{name:"Wolf",strength:40,agility:30,hp:[26,34],sleepR:1,stopR:15,hurtR:0,dodge:2,pattern:[{id:Yt,weight:100}],run:0},Wraith:{name:"Wraith",strength:44,agility:34,hp:[26,34],sleepR:7,stopR:0,hurtR:0,dodge:4,pattern:[{id:zt,weight:25},{id:Yt,weight:75}],run:0},"Metal Slime":{name:"Metal Slime",strength:10,agility:255,hp:4,sleepR:15,stopR:15,hurtR:15,dodge:1,pattern:[{id:Kt,weight:75},{id:Yt,weight:25}],run:0},Specter:{name:"Specter",strength:40,agility:38,hp:[28,36],sleepR:3,stopR:1,hurtR:0,dodge:4,pattern:[{id:Jt,weight:25},{id:Kt,weight:75},{id:Yt,weight:25}],run:0},Wolflord:{name:"Wolflord",strength:50,agility:36,hp:[29,38],sleepR:4,stopR:7,hurtR:0,dodge:2,pattern:[{id:Qt,weight:50},{id:Yt,weight:50}],run:0},Druinlord:{name:"Druinlord",strength:47,agility:40,hp:[27,35],sleepR:15,stopR:0,hurtR:0,dodge:4,pattern:[{id:zt,weight:75},{id:Yt,weight:75},{id:Kt,weight:25}],run:0},Drollmagi:{name:"Drollmagi",strength:52,agility:50,hp:[29,38],sleepR:2,stopR:2,hurtR:0,dodge:1,pattern:[{id:Qt,weight:50},{id:Yt,weight:50}],run:1},Wyvern:{name:"Wyvern",strength:56,agility:48,hp:[32,42],sleepR:4,stopR:15,hurtR:0,dodge:2,pattern:[{id:Yt,weight:100}],run:1},"Rogue Scorpion":{name:"Rogue Scorpion",strength:60,agility:90,hp:[27,35],sleepR:7,stopR:15,hurtR:0,dodge:2,pattern:[{id:Yt,weight:100}],run:1},"Wraith Knight":{name:"Wraith Knight",strength:68,agility:56,hp:[35,46],sleepR:5,stopR:0,hurtR:3,dodge:4,pattern:[{id:zt,weight:75},{id:Yt,weight:25}],run:1},Golem:{name:"Golem",strength:120,agility:60,hp:[53,70],sleepR:15,stopR:15,hurtR:15,dodge:0,pattern:[{id:Yt,weight:100}],run:1},Goldman:{name:"Goldman",strength:48,agility:40,hp:[38,50],sleepR:13,stopR:15,hurtR:0,dodge:1,pattern:[{id:Yt,weight:100}],run:1},Knight:{name:"Knight",strength:76,agility:78,hp:[42,55],sleepR:6,stopR:7,hurtR:0,dodge:1,pattern:[{id:Qt,weight:50},{id:Yt,weight:50}],run:1},Magiwyvern:{name:"Magiwyvern",strength:78,agility:68,hp:[44,58],sleepR:0,stopR:15,hurtR:0,dodge:0,pattern:[{id:Jt,weight:50},{id:Yt,weight:50}],run:1},"Demon Knight":{name:"Demon Knight",strength:79,agility:64,hp:[38,50],sleepR:15,stopR:15,hurtR:15,dodge:15,pattern:[{id:Yt,weight:100}],run:1},Werewolf:{name:"Werewolf",strength:86,agility:70,hp:[46,60],sleepR:7,stopR:15,hurtR:0,dodge:7,pattern:[{id:Yt,weight:100}],run:1},"Green Dragon":{name:"Green Dragon",strength:88,agility:74,hp:[49,65],sleepR:7,stopR:15,hurtR:2,dodge:2,pattern:[{id:Zt,weight:25},{id:Yt,weight:75}],run:2},Starwyvern:{name:"Starwyvern",strength:86,agility:80,hp:[49,65],sleepR:8,stopR:0,hurtR:1,dodge:2,pattern:[{id:Xt,weight:75},{id:Zt,weight:25},{id:Yt,weight:75}],run:2},Wizard:{name:"Wizard",strength:80,agility:70,hp:[49,65],sleepR:17,stopR:7,hurtR:15,dodge:2,pattern:[{id:Yt,weight:50},{id:qt,weight:50}],run:2},"Axe Knight":{name:"Axe Knight",strength:94,agility:82,hp:[53,70],sleepR:15,stopR:3,hurtR:1,dodge:1,pattern:[{id:Jt,weight:25},{id:Yt,weight:75}],run:2},"Blue Dragon":{name:"Blue Dragon",strength:98,agility:84,hp:[53,70],sleepR:15,stopR:15,hurtR:7,dodge:2,pattern:[{id:Zt,weight:25},{id:Yt,weight:75}],run:2},Stoneman:{name:"Stoneman",strength:100,agility:40,hp:[121,160],sleepR:2,stopR:15,hurtR:7,dodge:1,pattern:[{id:Yt,weight:100}],run:3},"Armored Knight":{name:"Armored Knight",strength:105,agility:86,hp:[68,90],sleepR:15,stopR:7,hurtR:1,dodge:2,pattern:[{id:Xt,weight:75},{id:qt,weight:25},{id:Yt,weight:75}],run:3},"Red Dragon":{name:"Red Dragon",strength:120,agility:90,hp:[76,100],sleepR:15,stopR:7,hurtR:15,dodge:2,pattern:[{id:Jt,weight:25},{id:Zt,weight:25},{id:Yt,weight:50}],run:3},"Dragonlord (first form)":{name:"Dragonlord (first form)",strength:90,agility:75,hp:[76,100],sleepR:15,stopR:15,hurtR:15,dodge:0,pattern:[{id:Qt,weight:25},{id:qt,weight:75},{id:Yt,weight:25}],voidCrit:T,run:3},"Dragonlord (second form)":{name:"Dragonlord (second form)",strength:140,agility:200,hp:130,sleepR:15,stopR:15,hurtR:15,dodge:0,pattern:[{id:"STRONGFIRE",weight:50},{id:Yt,weight:50}],voidCrit:T,run:3}};function en(e){return $t[e.enemy]}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){nn(e,t,n[t])})}return e}function nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var an={CAST_HEAL:"CAST_HEAL",CAST_HEALMORE:"CAST_HEALMORE",CAST_HURT:"CAST_HURT",CAST_HURTMORE:"CAST_HURTMORE",CAST_SLEEP:"CAST_SLEEP",CAST_STOPSPELL:"CAST_STOPSPELL",CHANGE_ARMOR:"CHANGE_ARMOR",CHANGE_ENEMY:"CHANGE_ENEMY",CHANGE_HERB:"CHANGE_HERB",CHANGE_LEVEL:"CHANGE_LEVEL",CHANGE_NAME:"CHANGE_NAME",CHANGE_SHIELD:"CHANGE_SHIELD",CHANGE_STATS:"CHANGE_STATS",CHANGE_WEAPON:"CHANGE_WEAPON",ENEMY_TURN:"ENEMY_TURN",FIGHT:"FIGHT",FIGHT_CLEANUP:"FIGHT_CLEANUP",RUN_AWAY:"RUN_AWAY",START_BATTLE:"START_BATTLE",USE_HERB:"USE_HERB"};function on(e){return{type:an.CHANGE_ENEMY,enemy:e}}var un={type:an.CHANGE_STATS},ln={type:an.FIGHT_CLEANUP},cn={type:an.ENEMY_TURN},sn={type:an.CAST_HURT},pn={type:an.CAST_SLEEP},fn={type:an.CAST_HURTMORE},hn={type:an.CAST_STOPSPELL},dn={type:an.USE_HERB},yn={type:an.RUN_AWAY},gn={type:an.CAST_HEALMORE},mn={type:an.CAST_HEAL},vn={type:an.START_BATTLE};var bn=function(e,t){var n=t,a=[];for(a.push(e);0!==a.length;){var o=a.pop();switch(console.log(o),o.type){case an.START_BATTLE:if(n=he(t),t.initiative){var i=rn(n.battleText);i.push("The enemy gets to go first!"),n=tn({},n,{battleText:i}),a.push(cn)}break;case an.CAST_HURT:case an.CAST_HURTMORE:case an.CAST_HEAL:case an.CAST_HEALMORE:case an.CAST_SLEEP:case an.CAST_STOPSPELL:case an.FIGHT:case an.USE_HERB:case an.RUN_AWAY:var u=(n=Fe(n,e)).inBattle;E(u,r)?a.push(ln):a.push(cn);break;case an.ENEMY_TURN:var l=st(n);E((n=l).inBattle,r)&&a.push(ln);break;case an.FIGHT_CLEANUP:a.push(un),a.push(on(n.enemy.name)),n=tn({},n,{cleanBattleText:T,enemySleep:0,enemyStop:r,playerSleep:r,sleepCount:6});break;case an.CHANGE_NAME:n=tn({},n,{player:Ft(o,n)}),a.push(un);break;case an.CHANGE_WEAPON:n=tn({},t,{player:jt(o,n)});break;case an.CHANGE_ARMOR:n=tn({},n,{player:Mt(o,n)});break;case an.CHANGE_SHIELD:n=tn({},n,{player:Lt(o,n)});break;case an.CHANGE_ENEMY:n=tn({},n,{enemy:en(o)});break;case an.CHANGE_LEVEL:var c=o.level,s=tn({},n.player,{level:c});n=tn({},n,{player:s}),a.push(un);break;case an.CHANGE_HERB:var p=o.herb,f=tn({},n.player,{herbCount:p});n=tn({},n,{player:f});break;case an.CHANGE_STATS:n=tn({},n,{player:Vt(n)});break;default:return console.log("Got to default in update function"),console.log("Attempted message was ".concat(e.type)),n}}return n},Sn=n(19),wn=n.n(Sn),En=n(4);function Tn(e){return e}var Rn=i(Tn);function An(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var xn=wn()(En.h),On=xn.div,kn=xn.h1,Nn=xn.p,Pn=xn.pre,_n=xn.button,Cn=xn.input,Hn=xn.select,jn=xn.option,Mn=be(function(e){return Nn({},e)}),Ln=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return An(Array(e).keys()).map(function(e){return e+t})},Dn=function(e,t,n){return On({className:e},"".concat(t,": ").concat(n))},Bn="pv2 ph2 dib",Gn=["Choose an enemy","Slime","Red Slime","Drakee","Ghost","Magician","Magidrakee","Scorpion","Druin","Poltergeist","Droll","Drakeema","Skeleton","Warlock","Metal Scorpion","Wolf","Wraith","Metal Slime","Specter","Wolflord","Druinlord","Drollmagi","Wyvern","Rogue Scorpion","Wraith Knight","Golem","Goldman","Knight","Magiwyvern","Demon Knight","Werewolf","Green Dragon","Starwyvern","Wizard","Axe Knight","Blue Dragon","Stoneman","Armored Knight","Red Dragon","Dragonlord (first form)","Dragonlord (second form)"],Un=Ln(30,1),In=Ln(7),Wn=["Unarmed","Bamboo Pole","Club","Copper Sword","Hand Axe","Broad Sword","Flame Sword","Erdrick's Sword"],Vn=["Naked","Clothes","Leather Armor","Chain Mail","Half Plate","Full Plate","Magic Armor","Erdrick's Armor"],Fn=["Naked","Small Shield","Large Shield","Silver Shield"];function Yn(e,t,n){var a=n.enemy,o=n.inBattle,i=I(t.level>=3?q(_n({onclick:function(t){return e(mn)}},"Heal")):Rn,t.level>=4?q(_n({onclick:function(t){return e(sn)}},"Hurt")):Rn,t.level>=7?q(_n({onclick:function(t){return e(pn)}},"Sleep")):Rn,t.level>=10?q(_n({onclick:function(t){return e(hn)}},"Stopspell")):Rn,t.level>=17?q(_n({onclick:function(t){return e(gn)}},"Healmore")):Rn,t.level>=19?q(_n({onclick:function(t){return e(fn)}},"Hurtmore")):Rn,t.herbCount>0?q(_n({onclick:function(t){return e(dn)}},"Use Herb")):Rn,q(_n({onclick:function(t){return e(yn)}},"Run Away")));return E(o,r)?_n({onclick:function(t){return e(vn)}},"Start Battle"):i([_n({onclick:function(n){return e(function(e,t){return{type:an.FIGHT,player:e,enemy:t}}(t,a))}},"Attack")])}function Kn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return be(function(t){return jn({value:t,selected:E(e,t)},t)},Gn)}function qn(e,t){return On({className:"w-25 mh3"},[On({className:""},"Player Name:"),Cn({oninput:function(t){return e((n=t.target.value,{type:an.CHANGE_NAME,name:n}));var n}},"Player Name"),On({className:"mv2"},"Player Level:"),Hn({className:"db pa2 ba input-reset br1 bg-white ba b--black",onchange:function(t){return e((n=parseInt(t.target.value,10),{type:an.CHANGE_LEVEL,level:n}));var n}},(i=t.level,be(function(e){return jn({value:e,selected:E(i,e)},e)},Un))),On({className:"mv2"},"Player Weapon:"),Hn({className:"db pa2 ba input-reset br1 bg-white ba b--black",onchange:function(t){return e((n=t.target.value,{type:an.CHANGE_WEAPON,weapon:n}));var n}},(o=t.weapon,be(function(e){return jn({value:e,selected:E(o,e)},e)},Wn))),On({className:"mv2"},"Player Armor:"),Hn({className:"db pa2 ba input-reset br1 bg-white ba b--black",onchange:function(t){return e((n=t.target.value,{type:an.CHANGE_ARMOR,armor:n}));var n}},(a=t.armor,be(function(e){return jn({value:e,selected:E(a,e)},e)},Vn))),On({className:"mv2"},"Player Shield:"),Hn({className:"db pa2 ba input-reset br1 bg-white ba b--black",onchange:function(t){return e((n=t.target.value,{type:an.CHANGE_SHIELD,shield:n}));var n}},(r=t.shield,be(function(e){return jn({value:e,selected:E(r,e)},e)},Fn))),On({className:"mv2"},"Herb Amount:"),Hn({className:"db pa2 ba input-reset br1 bg-white ba b--black",onchange:function(t){return e((n=parseInt(t.target.value,10),{type:an.CHANGE_HERB,herb:n}));var n}},(n=t.herbCount,be(function(e){return jn({value:e,selected:E(n,e)},e)},In)))]);var n,r,a,o,i}function zn(e,t){var n=t.hp,r=t.maxhp,a=t.mp,o=t.weapon,i=t.armor,u=t.shield,l=t.level;return On({className:"w-25 mh3"},[On({className:""},"Player Stats:"),Dn(Bn,"Player Level","".concat(l)),Dn(Bn,"Player Health","".concat(n," / ").concat(r)),Dn(Bn,"Player Magic",a),Dn(Bn,"Player Weapon",o.name),Dn(Bn,"Player Armor",i.name),Dn(Bn,"Player Shield",u.name)])}function Xn(e,t,n){var a=t.hp;return E(n,r)?On({className:"w-25 mh3"},[On({},"Enemy:"),Hn({className:"db pa2 ba input-reset br1 bg-white ba b--black",onchange:function(t){return e(on(t.target.value))}},Kn(t.name))]):On({className:"w-25 mh3"},[Dn(Bn,"Enemy Health",a)])}function Jn(e,t,n,r){return On({className:"flex"},[qn(e,t),Xn(e,n,r.inBattle),zn(0,t)])}var Qn=n(9),Zn=n.n(Qn);(function(e,t,n,r){var a=e,o=n(function e(r){a=t(r,a);var u=n(e,a),l=Object(En.diff)(o,u);i=Object(En.patch)(i,l);var c=document.getElementById("scrollbox");c.scrollTop=c.scrollHeight,o=u},a),i=Zn()(o);r.appendChild(i)})(a,bn,function(e,t){var n=t.player,r=t.enemy;return On({className:"mw8 center"},[kn({className:"f2 pv2 bb"},"Dragon Quest 1 Battle Simulator"),On("#scrollbox",{className:"h5 overflow-y-scroll"},Mn(t.battleText)),Yn(e,n,t),Jn(e,n,r,t),Pn(JSON.stringify(t,null,2))])},document.getElementById("app"))}]);